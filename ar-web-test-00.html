<!doctype HTML>
<html>
    <head>
        <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
        <script src="https://raw.githack.com/jeromeetienne/AR.js/2.0.0/aframe/build/aframe-ar.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    </head>
    <body style="margin: 0px; overflow: hidden;">
        <div class="actions">
            <div class="btn-group position-absolute bottom-0 start-50 translate-middle-x mb-2" role="group" aria-label="Basic example">
                <button type="button" class="btn" onclick="rotationZ()" style="background-color: #0e9aa7 ;"> 
                    X
                </button>
                <button type="button" class="btn" onclick="rotationX()" style="background-color:#3da4ab;">
                    Y
                </button>
                <button type="button" class="btn zoom-in" onclick="zoomIn()" style="background-color:#00aa80 ;">
                    Z
                </button>
                <button type="button" class="btn zoom-in" onclick="zoomIn()" style="background-color:#00aa80 ;">
                    <span class="material-symbols-outlined" style="color: whitesmoke;">
                        zoom_in
                    </span>
                </button>
                <button type="button" class="btn zoom-out" onclick="zoomOut()" style="background-color:#f6cd61 ;">
                    <span class="material-symbols-outlined" style="color: whitesmoke;">
                        zoom_out
                    </span>
                </button>
                <button onclick="reset()" type="button" class="btn" style="background-color: #fe8a71;">
                    <span class="material-symbols-outlined" style="color: whitesmoke;">
                        restart_alt
                    </span>
                </button>
            </div>
        </div>
    </div>
    <a-scene embedded vr-mode-ui="enabled: false;" arjs="debugUIEnabled: false;">    
        <a-assets>
            <a-asset-item   id="dawri"     src="dawri/scene.gltf"></a-asset-item>
            <!-- <a-asset-item   id="hathmi"    src="hathmi/scene.gltf"></a-asset-item> -->
            <!-- <a-asset-item   id="tanafossi" src="tanafossi/scene.gltf"></a-asset-item> -->
<!--             <a-asset-item   id="assabi"    src="./assabi/scene.gltf"></a-asset-item> -->
            <!-- <a-asset-item   id="athali"    src="athali/scene.gltf"></a-asset-item> -->
            <!-- <a-asset-item   id="haykal"    src="haykal/scene.gltf"></a-asset-item> -->
        </a-assets>
        
        <a-marker mar type="pattern" url="markerA.patt">
            <a-entity   position="0 0 0" 
                        rotation="0 0 0"
                        class="objects"
                        scale="1 1 1"
                        gltf-model="#dawri" >
            </a-entity>
        </a-marker>

        <!-- <a-marker type="pattern" url="markerB.patt">
            <a-entity   position="0 0 0" 
                        rotation="0 0 0"
                        class="objects"
                        scale="1 1 1"
                        gltf-model="#hathmi" >
            </a-entity>
        </a-marker> -->
<!--         
        <a-marker type="pattern" url="markerA.patt">
            <a-entity   position="0 0 0" 
                        rotation="0 0 0"
                        class="objects"
                        scale="1 1 1"
                        gltf-model="#athali" >
            </a-entity>
        </a-marker>

        <a-marker type="pattern" url="markerB.patt">
            <a-entity   position="0 0 0" 
                        rotation="0 0 0"
                        class="objects"
                        scale="1 1 1"
                        gltf-model="#haykal" >
            </a-entity>
        </a-marker> -->

       <!-- <a-marker type="pattern" url="markerC.patt">
            <a-entity   position="0 0 0" 
                        rotation="0 0 0"
                        class="objects"
                        scale="1 1 1"
                        gltf-model="#assabi" >
            </a-entity>
        </a-marker> -->

        

        <!-- <a-marker type="pattern" url="markerG.patt">
            <a-entity   position="0 0 0" 
                        rotation="0 0 0"
                        class="objects"
                        scale="1 1 1"
                        gltf-model="#haykal" >
            </a-entity>
        </a-marker> -->
        
        <a-entity camera></a-entity>
        
    </a-scene>
    </body>
    <script>
        let zoom=0.1;
        let rz=0;
        let rx=0;
        let ry=0;
        const obj=document.querySelectorAll(".objects");

        function zoomOut(){
        obj.forEach(elt=>{
            if(zoom>=0.6){
                zoom-=0.2
                elt.setAttribute('scale', {x: zoom, y: zoom, z: zoom});
                
            }

            })
        }
        function zoomIn(){
        console.log(obj)
        obj.forEach(elt=>{
            if(zoom<=2.8){
                zoom+=0.2
                elt.setAttribute('scale', {x: zoom, y: zoom, z: zoom});
                }
            })
        }

        function rotationX(){
        setInterval(
            ()=>{
                obj.forEach(elt=>{
                rx+=10
                rx%=360
                elt.setAttribute('rotation', {x: rx, y: rx, z: rx});
                })
            }
            ,10000
        )
            
        }

        function rotationZ(){
        obj.forEach(elt=>{
            rz+=10

            elt.setAttribute('rotation', {x: rz, y: rz, z: rz});
            })
        }
        
        function reset(){
        obj.forEach(elt=>{
            zoom=0
            rx=0
            rz=0
            elt.setAttribute('scale', {x: 1, y: 1, z: 1});
            elt.setAttribute('rotation', {x: 0, y: 0, z: 0});
            })
        }
    </script>
    <style>
        .actions{
            position: absolute;
            width: 100%;
            height: 100%;
            left:0;
            top: 0;
            z-index: 9999;
            justify-content: center;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>

</html>
